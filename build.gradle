buildscript {
	repositories {
		maven {
			url = "https://maven.minecraftforge.net"
		}
		maven {
			url = "https://repo.u-team.info"
		}
		mavenCentral()
	}
	dependencies {
		classpath group: "info.u-team.gradle_files", name: "gradle_files", version: "2.0.2", changing: true
	}
}

apply plugin: "info.u_team.gradle_files"

group = "info.u-team"
archivesBaseName = gradlefiles.archivesBaseName()
version = gradlefiles.version()

gradlefiles {
	vendor "Team UTeam"
}

gradle.projectsEvaluated {
	def forgeTasks = project(":forge").tasks.findAll { task ->
		task.name.startsWith("curseforge")
	}
	def fabricTasks = project(":fabric").tasks.findAll { task ->
		task.name.startsWith("curseforge")
	}
	forgeTasks.each { task ->
		fabricTasks.each { fabricTask ->
			task.mustRunAfter(fabricTask)
		}
	}
}