apply plugin: "java"

repositories {
	jcenter()
	maven {
		url "https://jitpack.io"
	}
}

task deleteOldDep(type: Delete) {
    delete fileTree("build/dependencies")
}

task copyNewDep(type: Copy) {
	tasks.copyNewDep.dependsOn deleteOldDep
	destinationDir = file("build")
	into ("dependencies") {
		from configurations.runtime		
		exclude "musicplayer-lavaplayer-api.jar"	
	}
}

tasks.build.dependsOn copyNewDep

jar {
	exclude("LICENSE-DEPENDENCIES")  
}

sourceSets {
   	main {
		java
		resources
   	}
   	test {
   		java
   		resources
   	}
}

dependencies {
	//compile "com.sedmelluq:lavaplayer:1.3.50" We use the fork for now as it fixes some youtube bugs
	compile "com.github.devoxin:lavaplayer:1.3.53"
	compile "org.slf4j:slf4j-simple:1.7.25"
	compile project(":musicplayer-lavaplayer-api")
}